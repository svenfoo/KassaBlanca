-if @query
  =button_to tickets_path, class: "btn btn-info", style: "float:right", method: :get do
    %span.glyphicon.glyphicon-remove
    Clear filter and show all tickets
  %h3= "Tickets matching '#{@query}'"
-else
  %h3 All Tickets

-if @tickets.empty?
  %h4= "No matches"
-else
  %table.table.table-striped
    %thead
      %tr
        %th ID
        %th Name
        %th Email
        %th Checked In
        %th
    -@tickets.each do |ticket|
      %tr
        %th=ticket.booking_id
        %td=ticket.pseudonym || ticket.name
        %td=ticket.email
        %td
          -if ticket.checked_in_at
            %span.glyphicon.glyphicon-ok
        %td
          =link_to "Details", ticket

%hr
  =button_to new_ticket_path, class: "btn btn-info", method: :get do
    %span.glyphicon.glyphicon-plus
    Create new ticket
